<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evento Protocol</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="public/styles.css">
</head>
<body>
    <!-- Orbital space system -->
    <div class="orbital-system">
        <div class="orbit orbit-1">
            <div class="satellite satellite-1"></div>
        </div>
        <div class="orbit orbit-2">
            <div class="satellite satellite-2"></div>
        </div>
        <div class="orbit orbit-3">
            <div class="satellite satellite-3"></div>
        </div>
    </div>
    
    <!-- Space header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" onclick="showSection('home')">
                    <svg class="logo-icon" id="cometLogo" viewBox="0 0 40 40" aria-hidden="true">
                        <defs>
                            <linearGradient id="cometTailGradient" x1="8" y1="32" x2="32" y2="8" gradientUnits="userSpaceOnUse">
                                <stop offset="0" stop-color="#fff" stop-opacity="0" />
                                <stop offset="0.4" stop-color="#fff" stop-opacity="0.7" />
                                <stop offset="1" stop-color="#fff" />
                            </linearGradient>
                            <radialGradient id="cometHeadGradient" cx="50%" cy="50%" r="50%">
                                <stop offset="0" stop-color="#fff" stop-opacity="1" />
                                <stop offset="1" stop-color="#fff" stop-opacity="0.7" />
                            </radialGradient>
                        </defs>
                        <path d="M8 32C16 24 24 16 32 8" stroke="url(#cometTailGradient)" stroke-width="4" stroke-linecap="round" fill="none" />
                        <path d="M8 26C16 18 24 12 34 6" stroke="url(#cometTailGradient)" stroke-width="2" stroke-linecap="round" fill="none" opacity="0.6" />
                        <circle cx="32" cy="8" r="4" fill="url(#cometHeadGradient)" />

                    </svg>
                    <span class="logo-text">Evento</span>
                </a>
                
                <nav class="nav">
                    <a href="#" class="nav-item active" onclick="showSection('home')">Overview</a>
                    <a href="#" class="nav-item" onclick="showSection('create')">Launch</a>
                    <a href="#" class="nav-item" onclick="showSection('explore')">Explore</a>
                </nav>
                
                <button class="wallet-connect" id="walletBtn" onclick="toggleWallet()">
                    <div class="status-dot" id="walletStatus"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right:8px">
                        <defs>
                            <linearGradient id="phantomGradBtn" x1="0" y1="0" x2="1" y2="1">
                                <stop offset="0%" stop-color="#8a2be2"/>
                                <stop offset="100%" stop-color="#6b21a8"/>
                            </linearGradient>
                        </defs>
                        <path d="M12 3.5c4.6 0 8.5 3.18 8.5 7.6v3c0 3.2-2.7 5.8-6 5.8H9.5c-3.3 0-6-2.6-6-5.8v-3c0-4.42 3.9-7.6 8.5-7.6z" fill="url(#phantomGradBtn)" opacity="0.9"/>
                        <path d="M9.2 10.8a1.3 1.3 0 1 1 2.6 0a1.3 1.3 0 0 1-2.6 0zm4.9 0a1.3 1.3 0 1 1 2.6 0a1.3 1.3 0 0 1-2.6 0z" fill="#fff"/>
                        <path d="M8.8 14.3c.8 1.2 2.2 2 3.7 2s2.9-.8 3.7-2" stroke="#d1c4e9" stroke-width="1.3" stroke-linecap="round"/>
                    </svg>
                    <span id="walletText">Connect Phantom Wallet</span>
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Section Home -->
        <section id="home" class="section active">
            <div class="section-header">
                <h1 class="section-title">Decentralized funding protocol</h1>
                <p class="section-subtitle">
                    The most efficient crowdfunding infrastructure built on Solana. 
                    Zero fees, instant settlements, full transparency.
                </p>
                </p>
                <div class="cta-section">
                    <button class="btn btn-primary" onclick="showSection('explore')">
                        View protocols
                    </button>
                    <button class="btn btn-ghost" onclick="showSection('create')">
                        Launch project
                    </button>
                </div>
            </div>
            <div class="grid grid-cols-3">
                <div class="card feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                        </svg>
                    </div>
                    <h3 class="feature-title">Sub-second finality</h3>
                    <p class="feature-description">
                        Powered by Solana's 400ms block times. 65,000+ TPS capacity with minimal transaction costs.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                    </div>
                    <h3 class="feature-title">Non-custodial</h3>
                    <p class="feature-description">
                        Smart contract automation. No intermediaries, no platform risk. Code is law.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 3v18h18" />
                            <path d="M18 17V9" />
                            <path d="M13 17V5" />
                            <path d="M8 17v-3" />
                        </svg>
                    </div>

                    <h3 class="feature-title">Full auditability</h3>
                    <p class="feature-description">
                        On-chain transparency. Every transaction verifiable on Solana explorer.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section Create -->
        <section id="create" class="section">
            <div class="create-container">
                <div class="create-header">
                    <h1>Create an Event</h1>
                    <p>Launch your event with decentralized ticketing or crowdfunding campaign</p>
                </div>

                <!-- Type Selection -->
                <div class="event-type-selector">
                    <div class="type-option active" data-type="event" onclick="selectEventType('event')">
                        <div class="type-icon">🎫</div>
                        <h3>Event with Ticketing</h3>
                        <p>Sell tickets for conferences, concerts, meetups</p>
                    </div>
                    <div class="type-option" data-type="crowdfunding" onclick="selectEventType('crowdfunding')">
                        <div class="type-icon">💰</div>
                        <h3>Crowdfunding Campaign</h3>
                        <p>Raise funds for projects, research, causes</p>
                    </div>
                </div>

                <!-- Main Form -->
                <div class="create-form">
                    <form id="eventForm">
                        <!-- Basic Info -->
                        <div class="form-section">
                            <h3>General Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Event Name *</label>
                                    <input type="text" id="eventTitle" placeholder="Solana Developer Conference 2025" required>
                                </div>
                                <div class="form-group">
                                    <label>Organizer *</label>
                                    <input type="text" id="eventOrg" placeholder="Solana Foundation" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Solana Address *</label>
                                    <input type="text" id="userWallet" placeholder="Your wallet address" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Event Date</label>
                                    <input type="datetime-local" id="eventDate">
                                </div>
                                <div class="form-group">
                                    <label>Location</label>
                                    <input type="text" id="eventLocation" placeholder="Paris, France">
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Description *</label>
                                <textarea id="eventDescription" placeholder="Describe your event, program, speakers..." required></textarea>
                            </div>

                            <div class="form-group">
                                <label>Cover image</label>
                                <div class="image-upload">
                                    <input type="file" id="imageInput" accept="image/*" onchange="handleImageUpload(event)">
                                    <div class="upload-area" onclick="document.getElementById('imageInput').click()">
                                        <span>�</span>
                                        <p>Add an image</p>
                                    </div>
                                </div>
                                <input type="url" id="eventImage" placeholder="Or paste an image URL">
                            </div>
                        </div>

                        <!-- Event Tickets Section -->
                        <div class="form-section" id="ticketing-section">
                            <h3>Ticketing</h3>
                            <div id="ticket-types">
                                <div class="ticket-type">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Ticket type</label>
                                            <input type="text" placeholder="Early Bird" class="ticket-name">
                                        </div>
                                        <div class="form-group">
                                            <label>Price (SOL)</label>
                                            <input type="number" placeholder="0.5" step="0.01" min="0" class="ticket-price">
                                        </div>
                                        <div class="form-group">
                                            <label>Available quantity</label>
                                            <input type="number" placeholder="100" min="1" class="ticket-quantity">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Ticket description</label>
                                        <input type="text" placeholder="Early access, includes goodie bag" class="ticket-description">
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn-add" onclick="addTicketType()">+ Add ticket type</button>
                        </div>

                        <!-- Crowdfunding Section -->
                        <div class="form-section hidden" id="crowdfunding-section">
                            <h3>Crowdfunding</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Funding goal (SOL) *</label>
                                    <input type="number" id="fundingGoal" placeholder="1000" step="0.01" min="0.01">
                                </div>
                                <div class="form-group">
                                    <label>Minimum contribution (SOL)</label>
                                    <input type="number" id="minContribution" placeholder="0.1" step="0.01" min="0.01" value="0.1">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Campaign type</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="fundingType" value="all-or-nothing" checked>
                                        <span>All or nothing</span>
                                        <small>Funds released only if goal reached</small>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="fundingType" value="flexible">
                                        <span>Flexible</span>
                                        <small>Keep all collected funds</small>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Submit -->
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                <span id="submit-text">Create event</span>
                                <span id="submit-loading" class="hidden">Creating...</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div id="createMessages"></div>
        </section>

        <!-- Section Explore -->
        <section id="explore" class="section">
            <div id="exploreMessages"></div>
            <div class="explore-header">
                <div class="explore-hero">
                    <div class="explore-hero-content">
                        <h1 class="explore-title">Active Protocols</h1>
                        <p class="explore-subtitle">
                            Discover, fund and attend community-driven events and ecosystem initiatives built on Solana.
                        </p>
                        <div class="explore-stats">
                            <div class="stat-item">
                                <div class="stat-number">10+</div>
                                <div class="stat-label">Hosted Projects</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">120+</div>
                                <div class="stat-label">SOL Raised</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">50+</div>
                                <div class="stat-label">Backers</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="explore-filters">
                    <div class="search-box">
                        <input type="text" placeholder="Search projects..." class="search-input">
                        <div class="search-icon">🔍</div>
                    </div>
                </div>
            </div>
            
            <div id="eventsContainer" class="projects-grid"></div>
        </section>
    </div>

    <script src="config.js"></script>
    <!-- Solana Web3.js -->
    <script src="https://unpkg.com/@solana/web3.js@1.98.4/lib/index.iife.min.js"></script>
    <!-- Charge config.js s'il est présent ; en son absence, l'API locale ('') sera utilisée -->
    <script src="config.js"></script>
    <script type="module" src="public/app.js"></script>

    <div class="signature">— promaa</div>
</body>
</html>
